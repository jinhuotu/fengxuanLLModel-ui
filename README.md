# 大模型集成对话系统前端

基于 Vue 3 + TypeScript + Element Plus + Electron 构建的跨平台桌面应用，作为大模型集成对话系统的前端界面。

## 功能特性

### 🗣️ 对话管理
- **多轮对话**：支持历史会话管理和无缝切换
- **流式/非流式**：可选择实时流式输出或完整响应
- **消息历史**：自动保存和加载对话记录
- **会话管理**：创建、删除、重命名对话

### 🤖 模型管理
- **多模型支持**：DeepSeek、智谱AI、OpenAI、Ollama等
- **模型配置**：API Key、Base URL、温度、Token等参数设置
- **连接测试**：实时测试模型连接状态
- **默认模型**：设置和切换默认使用的模型

### 📝 提示词管理
- **模板库**：创建和管理提示词模板
- **分类管理**：按用途分类组织提示词
- **快速应用**：在对话中快速插入提示词
- **富文本编辑**：支持Markdown格式的提示词

### 📚 知识库管理
- **文档上传**：支持多种格式文件（TXT、MD、PDF、DOC等）
- **智能分块**：自动文档分割和向量化
- **RAG检索**：基于知识库的智能问答
- **文档管理**：查看、删除、统计文档信息

### ⚙️ 系统设置
- **连接配置**：API地址、超时、重试等设置
- **界面主题**：浅色/深色模式切换
- **日志查看**：系统运行日志和错误信息
- **性能监控**：内存、磁盘、网络状态监控

## 技术栈

- **前端框架**：Vue 3 + TypeScript
- **UI组件库**：Element Plus
- **状态管理**：Pinia
- **路由管理**：Vue Router
- **HTTP客户端**：Axios
- **桌面应用**：Electron
- **构建工具**：Vite
- **样式方案**：CSS Variables + 响应式设计

## 项目结构

```
src/
├── api/                 # API接口封装
├── components/          # 公共组件
├── stores/             # Pinia状态管理
├── types/              # TypeScript类型定义
├── views/              # 页面组件
│   ├── ChatView.vue    # 对话页面
│   ├── ModelsView.vue  # 模型管理
│   ├── PromptsView.vue # 提示词管理
│   ├── KnowledgeView.vue # 知识库管理
│   └── SettingsView.vue # 系统设置
├── router/             # 路由配置
├── App.vue            # 根组件
└── main.ts            # 入口文件

electron/
├── main.js            # Electron主进程
└── preload.js         # 预加载脚本
```

## 开发环境

### 环境要求
- Node.js >= 16.0.0
- npm >= 8.0.0 或 yarn >= 1.22.0

### 安装依赖
```bash
npm install
```

### 开发模式
```bash
# 启动Web开发服务器
npm run dev

# 启动Electron桌面应用
npm run electron:dev
```

### 构建打包
```bash
# 构建Web版本
npm run build

# 构建Electron桌面应用
npm run electron:build

# 仅构建不发布
npm run electron:dist
```

## 使用说明

### 1. 启动后端服务
确保后端API服务已启动（默认地址：http://127.0.0.1:8001）

### 2. 配置模型
1. 进入"模型管理"页面
2. 点击"添加模型"按钮
3. 填写模型配置信息（名称、提供商、API Key等）
4. 点击"测试"验证连接
5. 设置为默认模型

### 3. 创建对话
1. 进入"对话"页面
2. 点击"新建对话"按钮
3. 选择模型和知识库（可选）
4. 开始对话

### 4. 管理知识库
1. 进入"知识库管理"页面
2. 点击"创建知识库"
3. 配置嵌入模型和分块参数
4. 上传文档文件
5. 等待文档处理完成

### 5. 使用提示词
1. 进入"提示词管理"页面
2. 创建提示词模板
3. 在对话中选择提示词
4. 快速应用到当前对话

## 配置说明

### API配置
- 默认API地址：http://127.0.0.1:8001
- 可在"系统设置"中修改API地址
- 支持连接超时和重试配置

### 主题配置
- 支持浅色/深色模式
- 可调整字体大小
- 支持跟随系统主题

### 数据存储
- 对话数据存储在本地
- 支持数据导入导出
- 自动备份功能

## 部署说明

### 桌面应用打包
```bash
# Windows
npm run electron:dist -- --win

# macOS
npm run electron:dist -- --mac

# Linux
npm run electron:dist -- --linux
```

### 生产环境配置
1. 修改API地址为生产环境地址
2. 配置HTTPS证书（如需要）
3. 设置安全策略
4. 优化性能参数

## 故障排除

### 常见问题

1. **连接失败**
   - 检查后端服务是否启动
   - 验证API地址配置
   - 检查网络连接

2. **模型测试失败**
   - 验证API Key是否正确
   - 检查Base URL配置
   - 确认模型服务可用

3. **文档上传失败**
   - 检查文件格式是否支持
   - 验证文件大小限制
   - 确认知识库配置

4. **界面显示异常**
   - 清除浏览器缓存
   - 检查Element Plus版本
   - 验证CSS样式加载

### 日志查看
1. 进入"系统设置"页面
2. 查看"系统日志"部分
3. 导出日志文件分析问题

## 开发指南

### 添加新功能
1. 在`src/views/`中创建新页面
2. 在`src/router/`中配置路由
3. 在`src/stores/`中添加状态管理
4. 在`src/api/`中添加API接口

### 自定义主题
1. 修改`src/style.css`中的CSS变量
2. 调整Element Plus主题色
3. 添加自定义样式类

### 扩展API
1. 在`src/api/index.ts`中添加新接口
2. 在对应的store中调用API
3. 在组件中使用新的API

## 许可证

MIT License

## 贡献指南

1. Fork项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建Pull Request

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交Issue
- 发送邮件
- 在线讨论